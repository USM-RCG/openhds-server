<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
				xmlns:sec="http://www.springframework.org/security/facelets/tags">
	<h:head>
	</h:head>

    <h:form>
		<ul id="menu1" class="menu">
	    	<li>
	        	<h:commandLink action="demowelcome" value="#{msg.navBarHome}" >
	        		<f:setPropertyActionListener target="#{navController.showHome}" value="true" /> 
	            </h:commandLink>
	        </li>
            <sec:ifAllGranted roles="ACESSS_CONFIGURATION">
                <li>
                    <h:commandLink action="gettingStarted" value="#{msg.navBarGettingStarted}" >
                        <f:setPropertyActionListener target="#{navController.showGettingStarted}" value="true" />
                    </h:commandLink>
                </li>
            </sec:ifAllGranted>
	        <sec:ifAllGranted roles="ACCESS_AMENDMENT_FORMS">
		        <li>
		            <h:commandLink value="#{msg.navBarAmendments}" action="demowelcome" >
		            	<f:setPropertyActionListener target="#{navController.showAmendments}" value="true" /> 
		            </h:commandLink>
		            <c:if test="#{navController.showAmendments}" >
			        <ul>
			        	<li><h:commandLink value="#{msg.navBarIndividual}" action="#{individualCrud.createSetup}" /></li>
				        <li><h:commandLink value="#{msg.navBarDeath}" action="#{deathCrud.createSetup}" /></li>
				       
				       <li><h:commandLink value="#{msg.navBarLocation}" action="#{locationCrud.createSetup}" /></li>
				      	<li><h:commandLink value="#{msg.navBarMembership}" action="#{membershipCrud.createSetup}" /></li>
				        <li><h:commandLink value="#{msg.navBarMigIntoLoc}" action="#{inMigrationCrud.createSetup}" /></li>
				        <li><h:commandLink value="#{msg.navBarOutMigration}" action="#{outMigrationCrud.createSetup}" /></li>
				        <li><h:commandLink value="#{msg.navBarPregnancyObservation}" action="#{pregnancyObservationCrud.createSetup}" /></li>
						<li><h:commandLink value="#{msg.navBarPregOutcome}" action="#{facesNavigation.redirect('pregnancy-outcome_flow')}" /></li>
				        <li><h:commandLink value="#{msg.navBarRelationship}" action="#{relationshipCrud.createSetup}" /></li>
				       <li><h:commandLink value="#{msg.navBarResidency}" action="#{residencyCrud.createSetup}" /></li>
				       	<li><h:commandLink value="#{msg.navBarSocialGroup}" action="#{socialGroupCrud.createSetup}" /></li>
				        <li><h:commandLink value="#{msg.navBarVisit}" action="#{visitCrud.createSetup}" /></li>             
			    	</ul>
			    	</c:if>
		    	</li>
	    	</sec:ifAllGranted>
	    	<sec:ifAllGranted roles="ACESSS_UTILITY_ROUTINES">
			    <li>
			        <h:commandLink value="#{msg.navBarUtilityRoutine}" action="demowelcome" >
			        	<f:setPropertyActionListener target="#{navController.showUtilities}" value="true" /> 
			        </h:commandLink>
			        <c:if test="#{navController.showUtilities}" >
		        	<ul>
		        		<li><h:commandLink value="Tasks" action="task" /></li>
			            <li><h:commandLink value="#{msg.navBarFieldWorkers}" action="#{fieldWorkerCrud.createSetup}" /></li>
			    	</ul>
			    	</c:if>
			    </li>
		    </sec:ifAllGranted>
		    <sec:ifAllGranted roles="ACESSS_CONFIGURATION">
			    <li>
			        <h:commandLink value="#{msg.navBarConfiguration}" action="demowelcome">
			        	<f:setPropertyActionListener target="#{navController.showConfiguration}" value="true" /> 
			        </h:commandLink>
			        <c:if test="#{navController.showConfiguration}" >
		        	<ul>
			   		    <li><h:commandLink value="#{msg.navBarRoleManagement}" action="#{roleCrud.createSetup}" /></li>
			   		    <li><h:commandLink value="#{msg.navBarUserManagement}" action="#{userCrud.createSetup}" /></li>
			    	</ul>
			    	</c:if>
			    </li>
		    </sec:ifAllGranted>
	    </ul>
    </h:form>
</ui:composition>
